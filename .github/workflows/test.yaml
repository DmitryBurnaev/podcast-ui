name: Deploy Application
on:
#  pull_request:
#    branches:
#      - master
  push:
    branches:
      - tech/123-fix-building

jobs:

  build-and-deploy:
    runs-on: ubuntu-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v2

      - name: Build Docker
        run: docker build -t podcast-ui --file etc/Dockerfile  .

      - name: Build App
        run: docker run --rm podcast-ui-build --volume dist:/podcast-ui/dist podcast-ui

      - name: Test
        run: |
          ls -lah dist
